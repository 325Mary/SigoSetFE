<div class="container"  style="width: 100%; height: auto;">
  <div class="section">        <table>
        <tr>
          <td class="header-left">
            <img src="../../../../assets/img/logoValidacion.PNG" alt="Logo" width="80" height="80">
          </td>
          <td class="header-right">
            <p><strong>Versión:</strong> 03</p>
            <p><strong>Código:</strong> GIL-F-069</p>
          </td>
        </tr>
        <tr>
          <td colspan="2" class="header-center">
            <p>Proceso Gestión de Infraestructura y Logística</p>
          </td>
        </tr>
        <tr>
          <td colspan="2" class="header-center">
            <p>Formato Certificación de Servicios de Vigilancia Humana y Electrónica</p>
          </td>
        </tr>
      </table>
    </div>

    <h4 class="section" style="text-align: center; margin-top: 20px;">
      LA/EL SUSCRIT@ {{centroFormacion.ordenador_gasto || 'N/A'}}, 
      DIRECTOR/A (E)  {{centroFormacion.regional || 'N/A'}}
    </h4>
          <h2 class="section">CERTIFICA</h2>
          <p class="section">
              Que el contratista {{ obtenerNombreEmpresa() }}, prestó el servicio de vigilancia durante el periodo comprendido entre
              <input type="date" [(ngModel)]="fechaInicio" /> y
              <input type="date" [(ngModel)]="fechaFin" /> en la sede de {{ obtenerNombreSede() }}, con los siguientes puestos de vigilancia así:
            </p>
            
    <h3 class="section">CERTIFICACIÓN VIGILANCIA HUMANA</h3>
    <table class="table table-bordered section">
      <thead class="thead-light">
          <tr>
              <th>DESCRIPCIÓN DEL PUESTO DE VIGILANCIA</th>
              <th>N° DE SERVICIO</th>
              <th>CIUDAD Y DIRECCIÓN DE CADA SEDE</th>
          </tr>
      </thead>
      <tbody>
          <!-- Iterar sobre los datos de puestoVxCentro -->
          <tr *ngFor="let puesto of puestoVxCentro">
              <td>{{ puesto.descripcion_puesto }}</td> <!-- Suponiendo que la descripción del puesto está en la propiedad 'descripcion' -->
              <td>{{ puesto.cantidad_puestov }}</td> <!-- Suponiendo que la cantidad de servicios está en la propiedad 'cantidad_puestov' -->
              <!-- <td> -->
                  <!-- {{ getSedeCiudadDireccion(puesto.sede_id) }} -->
              <td>{{puesto.direccionSede}}</td>
                <!-- </td> -->
          </tr>
       
      </tbody>
  </table>
  
  <div class="section">
      <label>OBSERVACIONES AL SERVICIO:
      <input type="text" class="form-control">
      </label>
    </div>

<h3 class="section">CERTIFICACIÓN VIGILANCIA ELECTRÓNICA</h3>
<table class="table table-bordered section">
      <thead class="thead-light">
          <tr>
              <th>CLASE DE EQUIPO</th>
              <th>CANTIDAD</th>
              <th>CIUDAD Y DIRECCIÓN DE LA SEDE</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let puesto of puestoExCentro">
              <td>{{ puesto.descripcion }}</td> <!-- Suponiendo que la descripción del puesto está en la propiedad 'descripcion' -->
              <td>{{ puesto.cantidad }}</td> <!-- Suponiendo que la cantidad de servicios está en la propiedad 'cantidad_puestov' -->
              <!-- <td>
                  {{ getSedeCiudadDireccion(puesto.sede_id) }}
                </td> -->
                <td>{{puesto.direccionSede}}</td>

          </tr>
      </tbody>
  </table>
  <div class="section">
      <label>OBSERVACIONES AL SERVICIO:
      <input type="text" class="form-control">
      </label>
    </div>

              <!-- <div>
              <input type="checkbox" (change)="selectAllCheckboxes($event.target.checked)">
              <label>Seleccionar Todos</label>
            </div> -->
  <div class="section">
      <table class="table table-bordered section">
        <thead class="thead-light">
         
          <tr>
            <th style=" max-width: 200px;  word-wrap: break-word;">OBLIGACIONES GENERALES DEL CONTRATISTA</th>
            <th>Cumple</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let obligacion of obligacionesXcentro; let i = index">
            <td>{{ i + 1 }}. {{ obligacion.obligacion_contratista }}</td>
            <input type="text" [(ngModel)]="obligacion.cumple" [id]="'opcionesCumpleContratista' + i" list="opcionesCumpleContratista" class="datalist-input">
            <datalist id="opcionesCumpleContratista">
              <option *ngFor="let opcion of opcionesCumple" [value]="opcion"></option>
            </datalist>
                    </tr>
        </tbody>
      </table>
    </div>
    
    <div class="section">
      <table class="table table-bordered section">
        <thead class="thead-light">
         
          <tr>
            <th style=" max-width: 200px; word-wrap: break-word;">OBLIGACIONES GENERALES DEL Contractuales</th>
            <th>Cumple</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let obligacion of obligacionesXcentro; let i = index">
            <td>{{ i + 1 }}. {{ obligacion.obligaciones_contractuales }}</td>
            <input type="text" [(ngModel)]="obligacion.cumple2" [id]="'opcionesCumpleContractuales' + i" list="opcionesCumpleContractuales" class="datalist-input">
            <datalist id="opcionesCumpleContractuales">
              <option *ngFor="let opcion of opcionesCumple" [value]="opcion"></option>
            </datalist>
                    </tr>
        </tbody>
      </table>
    </div>
  <p class="section"><strong>ANEXOS:</strong> Actas de reunión, memorandos enviados y recibidos, comunicaciones vía correo electrónico.</p>
  <p class="section">  Se expide en {{ obtenerNombreSede() }}, a la fecha de  {{ fechaActual }}</p>
  <p class="section">DIRECTOR/A (E) {{centroFormacion.regional || 'N/A'}}</p>
  <div class="signature-container" style="text-align: center; margin-top: 20px;">
    <div class="signature-block" style="display: flex; align-items: center; justify-content: center;">
      <div class="logo-container" style="margin-right: 20px;">
        <button class="logo-button" (click)="triggerFileInput()">Seleccionar firma</button>
        <input type="file" id="fileInput" (change)="onFileSelected($event)" accept="image/*" class="hidden-file-input">
        <img *ngIf="logoImage" [src]="logoImage" alt="Uploaded Logo" width="80" height="80" style="margin-top: 10px;">
      </div>
      <div class="signature-details">
        <p class="section">Firmado digitalmente por {{centroFormacion.ordenador_gasto || 'N/A'}}</p>
        <p class="section">Versión de sigoset 2024</p>
        <p class="signature section">{{centroFormacion.ordenador_gasto || 'N/A'}}</p>
      </div>
    </div>
  </div>
  
  

  </div>

<div style="text-align: center; margin-top: 20px;">
      <button (click)="exportToPDF()">Finalizar informe y exportar a PDF</button>
</div>

<div class="overlay" *ngIf="isGeneratingPDF">
  <div class="loading-text">Generando PDF...</div>
</div>
