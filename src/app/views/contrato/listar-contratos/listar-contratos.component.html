
<div class="container d-flex justify-content-center mt-5 mb-2">
    <div class="card" style="width: 80rem;">
      <div class="card-header card-header-sena-azul">
        <!-- Contenedor del tÃ­tulo -->
          <h4 class="card-title">Listado de Contratos</h4>
        <table class="table table-bordered text-center">
          <thead class="thead-light">
            <div class="form-group" style="margin: 20px 10px; border: 2px solid #ccc; border-radius: 5px; padding: 0;">
              <input type="text" class="form-control" style="border: none;" placeholder="Buscar..." (input)="filtrarContratos()" [(ngModel)]="terminoBusqueda">
            </div>
            <tr>
              <th>ID</th>
              <th>Nombre Empresa</th>
              <th>fecha Inicio</th>
              <th>fecha fin</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngIf="!noResultados">
              <tr *ngFor="let contrato of contratos">
                <td>{{contrato.id}}</td>
                <td>{{contrato.nombre_empresa}}</td>
                <td>{{ contrato.fecha_inicio | date: 'yyyy-MM-dd' }}</td>
                <td>{{ contrato.fecha_fin | date: 'yyyy-MM-dd' }}</td>
                
                <td>
                  <button (click)="abrirModalEditar(contrato)" title="Editar Perfil">
                    <i class="bi bi-pencil-square"></i>
                  </button>
                  <button (click)="eliminarContrato(contrato.idContrato_empresa)" title="Boton de eliminar">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="noResultados">
              <tr>
                <td colspan="5" class="text-center">No se encontraron resultados.</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
  
  </div>
  
  
  <!-- Modal -->
  <div class="modal" [class.show]="mostrarModalEditar">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Contenido del modal -->
        <app-editar-contrato [contratoSeleccionado]="contratoSeleccionado" (closeModal)="handleCloseModal()" (actualizarContratos)="actualizarContratos()"></app-editar-contrato>
      </div>
    </div>
  </div>
  
  <div class="modal" [class.show]="mostrarModalCrear">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Contenido del modal -->
        <app-crear-contrato (contratoCreado)="actualizarContratos()" (closeModal)="handleCloseModal()"></app-crear-contrato>
      </div>
    </div>
  </div>